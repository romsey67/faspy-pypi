.. faspy_docs documentation master file, created by
   sphinx-quickstart on Tue Nov 17 19:34:35 2020.
   You can adapt this file completely to your liking, but it should at least
   contain the root `toctree` directive.

========================
Fixed Income Instruments
========================
The module is designed to support pricing and valuation of interest rate products such as bonds, discounted instruments and loans. It is named *fixincome* and can be imported in the following manner:
::
    import faspy.interestrate.fixincome as fi

or:
::
    from faspy.interestrate import fixincome as fi

There are several functions available in the module.

* Date Construction
* Coupon Structures
* Valuations


Date Construction
-----------------
The relevant function is *date_structures()* as defined below.

.. py:function:: date_structures(bonds)

   Generate dates for the coupon/interest periods

   :param bonds: a dictionary or an array of dictionaries with the following
                keys - "value_date", "business_day", "issue_date", "value_date", "maturity", "frequency", "day_count", "date_generation".

   :rtype: an array of dictionaries with the following keys - "start_date" and
          "end_date".


Coupon Structures
-----------------
There several coupon structures that can be generated by the library. However, these structures are generic i.e. these structures exclude variable coupon rate, variable margin (for floating rate bond), variable face value etc.

.. py:function:: fixbond_structures(bonds)

   Generate the coupon structure for a fixed rate bond

   :param bonds: a dictionary or an array of dictionaries with the following
                keys - 'value_date, 'business_day', 'issue_date', 'value_date', 'maturity', 'frequency', 'day_count', 'date_generation', 'ytm', 'face_value', 'coupon'.

   :rtype: An array of dictionary (or an array of it) with the following
          keys - 'start_date', 'end_date', 'cpn_dcf', 'coupon', 'face_value', 'coupon_interest', 'fv_flow', 'cash_flow', 'ytm_dcf', 'period_df', 'accrued', 'df', 'pv'. If 'ytm' is ommitted or not valid, 'ytm_dcf', 'period_df', 'accrued', 'df', 'pv' keys will be ommited

Ommit 'ytm' key if you wish to customise the return object.


Valuations
----------
Valuations are provided for several interest rate products namely fixed rate bonds, floating rate bonds, zero coupon bonds and discounted instruments.

..  py:function:: fixbond_value(value_date, structures, yld, day_count,
                frequency)

  Revalue each cash flow of the structure.

  :param value_date: *numpy.datetime64*

  :param structures: an array of dictionaries as returned by
                      *fixbond_structures(bonds)*.

  :param yld:         the yield (ytm or ytc) of the bond

  :param day_count: *str*. day count convention used for the purpose of calculating interest

  :param frequency: *str*. Frequency of coupon repayment

  The function does not return anything as it modifies the content of *structures* parameter
